{"ast":null,"code":"import _asyncToGenerator from\"/Users/yze/WebstormProjects/Mern/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/yze/WebstormProjects/Mern/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router\";import{Badge,Button,Card,Container,Stack}from\"react-bootstrap\";import{NavLink}from\"react-router-dom\";import'../home.css';import data from\"bootstrap/js/src/dom/data\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var navigate=useNavigate();function exportCsv(){var password=prompt('Enter the password to download the file:');function getCsv(){return _getCsv.apply(this,arguments);}function _getCsv(){_getCsv=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,blob,link,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('csv?'+new URLSearchParams({password:password}));case 2:response=_context.sent;_context.next=5;return response.blob();case 5:blob=_context.sent;link=document.createElement('a');link.href=URL.createObjectURL(blob);link.download='answers.csv';link.click();setTimeout(function(){return URL.revokeObjectURL(link.href);},0);// console.log(response.json())\n// response.json().then(\n//     data =>{\n//         let link = document.createElement('a');\n//         link.href = encodeURI(data);\n//         link.download = 'my.csv';\n//         document.body.appendChild(link);\n//         link.click();\n//         document.body.removeChild(link);\n//         console.log(data)}\n// )\n// console.log(JSON.stringify(response))\n// console.log(encodeURI(response))\nif(response.ok){_context.next=15;break;}message=\"An error occured: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 15:case\"end\":return _context.stop();}}},_callee);}));return _getCsv.apply(this,arguments);}if(password&&password.toLowerCase()===\"molab\"){// window.open(\"folder/history.zip\")\ngetCsv().then(function(){alert(\"Downloaded!\");});}else if(password){alert(\"incorrect password!! please try again\");exportCsv();}}return/*#__PURE__*/_jsx(Stack,{children:/*#__PURE__*/_jsxs(Container,{id:\"welCard\",className:\" mx-auto\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome to \",/*#__PURE__*/_jsx(Badge,{id:\"badge\",pill:true,bg:\"info\",children:\"YourMorals.org!\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to YourMorals.org, where you can learn about your own morality, ethics, and/or values, moral values, ethical behaviors, personality, and political preferences while also contributing to scientific research. We are a group of professors, researchers, and graduate students in social psychology.\"}),/*#__PURE__*/_jsx(Button,{id:\"btnQues\",className:\"col-4\",onClick:function onClick(){navigate(\"/ques\");},children:\"Survey\"}),/*#__PURE__*/_jsx(Button,{className:\"col-4 mx-2 my-4 \",variant:\"secondary\",onClick:exportCsv,children:\"Export CSV\"})]})});}","map":{"version":3,"sources":["/Users/yze/WebstormProjects/Mern/client/src/components/home.js"],"names":["React","useState","useNavigate","Badge","Button","Card","Container","Stack","NavLink","data","Home","navigate","exportCsv","password","prompt","getCsv","fetch","URLSearchParams","response","blob","link","document","createElement","href","URL","createObjectURL","download","click","setTimeout","revokeObjectURL","ok","message","statusText","window","alert","toLowerCase","then"],"mappings":"6PAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAAQC,KAAR,CAAeC,MAAf,CAAuBC,IAAvB,CAA6BC,SAA7B,CAAwCC,KAAxC,KAAoD,iBAApD,CACA,OAAQC,OAAR,KAAsB,kBAAtB,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,IAAP,KAAiB,2BAAjB,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAE3B,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,QAASU,CAAAA,SAAT,EAAoB,CAChB,GAAIC,CAAAA,QAAQ,CAAGC,MAAM,CAAC,0CAAD,CAArB,CADgB,QAEDC,CAAAA,MAFC,4HAEhB,wLAE2BC,CAAAA,KAAK,CAAC,OAAS,GAAIC,CAAAA,eAAJ,CAAoB,CACtDJ,QAAQ,CAAEA,QAD4C,CAApB,CAAV,CAFhC,QAEUK,QAFV,qCAKuBA,CAAAA,QAAQ,CAACC,IAAT,EALvB,QAKUA,IALV,eAMUC,IANV,CAMiBC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CANjB,CAOIF,IAAI,CAACG,IAAL,CAAYC,GAAG,CAACC,eAAJ,CAAoBN,IAApB,CAAZ,CACAC,IAAI,CAACM,QAAL,CAAgB,aAAhB,CACAN,IAAI,CAACO,KAAL,GACAC,UAAU,CAAC,iBAAMJ,CAAAA,GAAG,CAACK,eAAJ,CAAoBT,IAAI,CAACG,IAAzB,CAAN,EAAD,CAAuC,CAAvC,CAAV,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AA3BJ,GA8BSL,QAAQ,CAACY,EA9BlB,0BA+BcC,OA/Bd,6BA+B6Cb,QAAQ,CAACc,UA/BtD,EAgCQC,MAAM,CAACC,KAAP,CAAaH,OAAb,EAhCR,wFAFgB,yCAuChB,GAAGlB,QAAQ,EAAIA,QAAQ,CAACsB,WAAT,KAA2B,OAA1C,CAAkD,CAC9C;AACApB,MAAM,GAAGqB,IAAT,CAAe,UAAI,CACXF,KAAK,CAAC,aAAD,CAAL,CACH,CAFL,EAIH,CAND,IAMM,IAAGrB,QAAH,CAAY,CACdqB,KAAK,CAAC,uCAAD,CAAL,CACAtB,SAAS,GACZ,CACJ,CAED,mBACI,KAAC,KAAD,wBACI,MAAC,SAAD,EAAW,EAAE,CAAC,SAAd,CAAwB,SAAS,CAAC,UAAlC,wBACI,iDACe,KAAC,KAAD,EAAO,EAAE,CAAC,OAAV,CAAkB,IAAI,KAAtB,CAAuB,EAAE,CAAC,MAA1B,6BADf,GADJ,cAII,oUAJJ,cAQI,KAAC,MAAD,EAAQ,EAAE,CAAC,SAAX,CAAqB,SAAS,CAAC,OAA/B,CAAuC,OAAO,CAAE,kBAAI,CAChDD,QAAQ,CAAC,OAAD,CAAR,CACH,CAFD,oBARJ,cAcI,KAAC,MAAD,EAAQ,SAAS,CAAC,kBAAlB,CAAqC,OAAO,CAAC,WAA7C,CAA0D,OAAO,CAAEC,SAAnE,wBAdJ,GADJ,EADJ,CAyBH","sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport {Badge, Button, Card, Container, Stack} from \"react-bootstrap\";\nimport {NavLink} from \"react-router-dom\";\nimport '../home.css';\nimport data from \"bootstrap/js/src/dom/data\";\n\nexport default function Home() {\n\n    const navigate = useNavigate();\n    function exportCsv(){\n        let password = prompt('Enter the password to download the file:');\n        async function getCsv() {\n            //http://localhost:5001/\n            const response = await fetch('csv?' + new URLSearchParams({\n                password: password}))\n\n            const blob = await response.blob()\n            const link = document.createElement('a')\n            link.href = URL.createObjectURL(blob)\n            link.download = 'answers.csv'\n            link.click()\n            setTimeout(() => URL.revokeObjectURL(link.href), 0)\n\n            // console.log(response.json())\n            // response.json().then(\n            //     data =>{\n            //         let link = document.createElement('a');\n            //         link.href = encodeURI(data);\n            //         link.download = 'my.csv';\n            //         document.body.appendChild(link);\n            //         link.click();\n            //         document.body.removeChild(link);\n            //         console.log(data)}\n            // )\n\n\n\n            // console.log(JSON.stringify(response))\n            // console.log(encodeURI(response))\n\n\n            if (!response.ok) {\n                const message = `An error occured: ${response.statusText}`;\n                window.alert(message);\n                return;\n            }\n        }\n\n        if(password && password.toLowerCase() === \"molab\"){\n            // window.open(\"folder/history.zip\")\n            getCsv().then( ()=>{\n                    alert(\"Downloaded!\")\n                }\n            )\n        }else if(password){\n            alert(\"incorrect password!! please try again\");\n            exportCsv()\n        }\n    }\n\n    return (\n        <Stack>\n            <Container id=\"welCard\" className=\" mx-auto\" >\n                <h1>\n                    Welcome to <Badge id=\"badge\" pill bg=\"info\">YourMorals.org!</Badge>\n                </h1>\n                <p>\n                    Welcome to YourMorals.org, where you can learn about your own morality, ethics, and/or values, moral values, ethical behaviors, personality, and political preferences\n                    while also contributing to scientific research. We are a group of professors, researchers, and graduate students in social psychology.\n                </p>\n                <Button id=\"btnQues\" className=\"col-4\" onClick={()=>{\n                    navigate(\"/ques\")\n                }}>\n                   Survey\n                </Button>\n\n                <Button className=\"col-4 mx-2 my-4 \" variant=\"secondary\"  onClick={exportCsv}>\n                    Export CSV\n                </Button>\n            </Container>\n        </Stack>\n\n     )\n\n\n}"]},"metadata":{},"sourceType":"module"}